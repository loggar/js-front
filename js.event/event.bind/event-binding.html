<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title></title>
</head>
<body>
	<div>
		<ul id="aaa">
			
		</ul>
		<ul id="bbb">
			
		</ul>
	</div>
	<script type="text/javascript">
		window.addEventListener("load", function() {
			// html setup.
			var rows = "";
			
			for(var i = 0; i < 5; i++) {
				rows += "<li><a href='#'>" + i + "</a></li>";
			}
			
			document.querySelector("#aaa").innerHTML = rows;
			
			// Attach event to each element.
			var elements = document.querySelectorAll("#aaa>li a");
			
			for(var i= 0; i<elements.length; i++) {
				elements[i].addEventListener("click", function(e){
					console.log("you clicked row #" + this.innerText); // <- this
				}, false);
			}
			console.log("event handler bound to " + elements.length + " elements.");
			
			// instead, what we could do is bind one click handler to the parent element.
			document.querySelector("#bbb").innerHTML = rows;
			document.querySelector("#bbb").addEventListener("click", function(e) {
				if(e.target.nodeName === "A") {
					console.log("you clicked row #" + e.target.innerText); // <- e.target
				}
			});
			
		});
	</script>
</body>
</html>